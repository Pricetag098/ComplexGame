// Each #kernel tells which function to compile; you can have many kernels
#pragma kernel RtToBuffer


RWTexture3D<half> rt;
RWBuffer<float> buffer;
int scale;

int to1D(int x, int y, int z)
{
    return (z * scale * scale) + (y * scale) + x;
}

[numthreads(8,8,8)]
void RtToBuffer (uint3 id : SV_DispatchThreadID)
{
    buffer[to1D(id.x, id.y, id.z)] = rt[id];
}
